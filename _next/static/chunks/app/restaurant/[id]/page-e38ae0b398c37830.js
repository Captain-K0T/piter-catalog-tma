(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[838],{1307:(e,t,s)=>{Promise.resolve().then(s.bind(s,3215)),Promise.resolve().then(s.t.bind(s,2619,23))},3215:(e,t,s)=>{"use strict";s.d(t,{default:()=>d});var a=s(5155),r=s(2115),n=s(2619),l=s.n(n),i=s(6957),o=s(8482),c=s(5146);let m=e=>{let{children:t,variant:s="default",className:r=""}=e;return(0,a.jsx)("span",{className:"".concat("inline-flex items-center justify-center rounded-md px-2 py-0.5 text-xs font-medium whitespace-nowrap"," ").concat({default:"bg-[#EC5E54] text-white",secondary:"bg-[#f3f3f5] text-[#030213]",outline:"border border-[#EC5E54]/30 text-gray-900 bg-white"}[s]," ").concat(r),children:t})};function d(e){let{id:t}=e,[s,n]=(0,r.useState)(null),[d,h]=(0,r.useState)(!0),[x,p]=(0,r.useState)(0);if((0,r.useEffect)(()=>{(0,i.B)().then(e=>{n(e.find(e=>e.id.toString()===t)),h(!1)})},[t]),d)return(0,a.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white",children:(0,a.jsx)("div",{className:"text-xl text-gray-600",children:"Загрузка..."})});if(!s)return(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-white p-4 text-center",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4 text-gray-900",children:"Заведение не найдено"}),(0,a.jsx)(l(),{href:"/",className:"text-[#EC5E54]",children:"Вернуться на главную"})]});let{title_2gis:j,photo_path:u,hashtags:g,rating_2gis:f,average_check_2gis:_,text_summary:v,text_html:N,telegram_link:w,twogis_link:k,restaurant_link:b}=s,y=new Set(c.L.map(e=>e.name.toLowerCase())),L=new Set([...o.h].map(e=>e.toLowerCase())),C=g.filter(e=>L.has(e.toLowerCase())),E=g.filter(e=>y.has(e.toLowerCase())),B=N&&N.length>500,M=u||[],S=M.length>1;return(0,a.jsxs)("div",{className:"min-h-screen bg-white max-w-[480px] mx-auto pb-32",children:[(0,a.jsx)("header",{className:"sticky top-0 z-10 bg-white border-b border-gray-200",children:(0,a.jsx)("div",{className:"px-4 py-4",children:(0,a.jsxs)(l(),{href:"/",className:"flex items-center gap-2 text-[#EC5E54] transition-opacity",children:[(0,a.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"m15 18-6-6 6-6"})}),(0,a.jsx)("span",{className:"font-medium",children:"Назад"})]})})}),(0,a.jsxs)("main",{className:"pb-6",children:[M.length>0&&(0,a.jsxs)("div",{className:"flex flex-col items-center py-4",children:[(0,a.jsxs)("div",{className:"relative aspect-[3/4] max-h-[600px] w-[90%] max-w-[380px]",children:[(0,a.jsx)("img",{src:M[x],alt:"".concat(j," - фото ").concat(x+1),className:"w-full h-full object-cover rounded-lg"}),S&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{onClick:()=>{s&&s.photo_path&&p(e=>0===e?s.photo_path.length-1:e-1)},className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full transition-colors","aria-label":"Previous image",children:(0,a.jsx)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"m15 18-6-6 6-6"})})}),(0,a.jsx)("button",{onClick:()=>{s&&s.photo_path&&p(e=>e===s.photo_path.length-1?0:e+1)},className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 p-2 rounded-full transition-colors","aria-label":"Next image",children:(0,a.jsx)("svg",{className:"w-5 h-5 rotate-180",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:(0,a.jsx)("path",{d:"m15 18-6-6 6-6"})})})]}),S&&(0,a.jsx)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-white/80 px-3 py-1 rounded-full",children:(0,a.jsxs)("span",{className:"text-sm font-medium",children:[x+1," / ",M.length]})})]}),S&&(0,a.jsx)("div",{className:"flex justify-center gap-1.5 mt-3",children:M.map((e,t)=>(0,a.jsx)("button",{onClick:()=>p(t),className:"w-2 h-2 rounded-full transition-colors ".concat(t===x?"bg-[#EC5E54]":"bg-gray-300"),"aria-label":"Go to image ".concat(t+1)},t))})]}),(0,a.jsxs)("div",{className:"px-4 py-6 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,a.jsx)("h1",{className:"flex-1 text-2xl font-semibold text-gray-900",children:j}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5 shrink-0",children:[(0,a.jsx)("svg",{className:"w-5 h-5 fill-[#EC5E54]",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})}),(0,a.jsx)("span",{className:"font-medium",children:f||"N/A"})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1.5 text-gray-600",children:[(0,a.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1"}),(0,a.jsx)("path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4"})]}),(0,a.jsx)("span",{children:_?"".concat(Math.round(_)," ₽"):"N/A"})]})]}),C&&C.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,a.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),(0,a.jsx)("circle",{cx:"12",cy:"10",r:"3"})]}),(0,a.jsx)("span",{className:"font-medium",children:"Метро"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5",children:C.map(e=>(0,a.jsx)(m,{variant:"outline",children:e.replace(/#/g,"").replace(/_/g," ")},e))})]}),E&&E.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,a.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8"}),(0,a.jsx)("path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7"}),(0,a.jsx)("path",{d:"m2.1 21.8 6.4-6.3"}),(0,a.jsx)("path",{d:"m19 5-7 7"})]}),(0,a.jsx)("span",{className:"font-medium",children:"Кухня"})]}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1.5",children:E.map(e=>(0,a.jsx)(m,{variant:"secondary",children:e.replace(/#/g,"").replace(/_/g," ")},e))})]}),v&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"О ресторане"}),(0,a.jsx)("div",{className:"text-gray-600 leading-relaxed",children:v}),B&&w&&(0,a.jsx)("a",{href:w,target:"_blank",rel:"noopener noreferrer",className:"inline-block mt-[5px] !text-[#EC5E54]",children:"Читать полностью"})]})]})]}),(0,a.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 max-w-[480px] mx-auto",children:(0,a.jsxs)("div",{className:"space-y-2",children:[k&&""!==k.trim()&&(0,a.jsxs)("a",{href:k,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full h-9 px-4 py-2 rounded-md text-sm font-medium bg-[#EC5E54] !text-white transition-all",children:[(0,a.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"}),(0,a.jsx)("circle",{cx:"12",cy:"10",r:"3"})]}),(0,a.jsx)("span",{children:"Открыть на карте 2GIS"})]}),b&&""!==b.trim()&&(0,a.jsxs)("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full h-9 px-4 py-2 rounded-md text-sm font-medium border border-gray-200 bg-white text-gray-900 transition-all",children:[(0,a.jsxs)("svg",{className:"w-4 h-4",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,a.jsx)("path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"}),(0,a.jsx)("polyline",{points:"15 3 21 3 21 9"}),(0,a.jsx)("line",{x1:"10",x2:"21",y1:"14",y2:"3"})]}),(0,a.jsx)("span",{children:"Сайт ресторана"})]})]})})]})}},5146:(e,t,s)=>{"use strict";s.d(t,{L:()=>a});let a=[{name:"#авторская_кухня",emoji:"\uD83C\uDFA8"},{name:"#азиатская_кухня",emoji:"\uD83C\uDF5C"},{name:"#американская_кухня",emoji:"\uD83C\uDF54"},{name:"#бельгийская_кухня",emoji:"\uD83E\uDDC7"},{name:"#восточная_кухня",emoji:"\uD83E\uDDC6"},{name:"#гавайская_кухня",emoji:"\uD83C\uDF4D"},{name:"#грузинская_кухня",emoji:"\uD83C\uDDEC\uD83C\uDDEA"},{name:"#европейская_кухня",emoji:"\uD83C\uDDEA\uD83C\uDDFA"},{name:"#израильская_кухня",emoji:"\uD83C\uDDEE\uD83C\uDDF1"},{name:"#индийская_кухня",emoji:"\uD83C\uDDEE\uD83C\uDDF3"},{name:"#итальянская_кухня",emoji:"\uD83C\uDF55"},{name:"#мексиканская_кухня",emoji:"\uD83C\uDF2E"},{name:"#русская_кухня",emoji:"\uD83C\uDDF7\uD83C\uDDFA"},{name:"#северная_кухня",emoji:"❄️"},{name:"#средиземноморская_кухня",emoji:"\uD83E\uDD90"},{name:"#турецкая_кухня",emoji:"\uD83C\uDDF9\uD83C\uDDF7"},{name:"#французская_кухня",emoji:"\uD83C\uDDEB\uD83C\uDDF7"},{name:"#бар",emoji:"\uD83C\uDF78"},{name:"#завтраки",emoji:"\uD83C\uDF73"},{name:"#стритфуд",emoji:"\uD83C\uDF2D"},{name:"#кальянная",emoji:"\uD83D\uDCA8"},{name:"#кофейня",emoji:"☕"},{name:"#пространства",emoji:"\uD83C\uDFDE️"},{name:"#За_городом",emoji:"\uD83D\uDE97"}]},6957:(e,t,s)=>{"use strict";s.d(t,{B:()=>r});let a="/piter-catalog-tma";async function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{let t=await fetch("".concat(a,"/database_enriched.csv")),s=(await t.text()).split("\n").map(e=>{let t=[],s="",a=!1;for(let r=0;r<e.length;r++){let n=e[r],l=e[r+1];'"'===n?a&&'"'===l?(s+='"',r++):a=!a:","!==n||a?s+=n:(t.push(s.trim()),s="")}return t.push(s.trim()),t}).filter(e=>e.length>1&&e[0]),r=(function(e){if(0===e.length)return[];let t=e[0],s=[];for(let a=1;a<e.length;a++){let r=e[a],n={};for(let e=0;e<t.length;e++)n[t[e]]=r[e]||"";s.push(n)}return s})(s).map(e=>{let t=[];for(let s=1;s<=10;s++){let r=e["photo_path_".concat(s)];r&&""!==r.trim()&&t.push("".concat(a,"/posts/").concat(r))}let s=[];for(let t=1;t<=6;t++){let a=e["hashtag_".concat(t)];a&&""!==a.trim()&&s.push(a)}let r=null,n=e.average_check_2gis||e.average_check_2gis||"";if(n&&""!==n.trim()){let e=n.replace(/[^\d]/g,"");r=e?parseInt(e,10):null}return{id:parseInt(e.id),telegram_link:e.telegram_link,twogis_link:e.link_1,restaurant_link:e.link_2,title_2gis:e.title_2gis,rating_2gis:e.rating_2gis,average_check_2gis:r,photo_path:t,hashtags:s,text_summary:(e=>{if(!e)return"";let t=e.replace(/<[^>]+>/g," ").split(/[.!?]+\s/).filter(Boolean);return t.slice(0,2).join(". ")+(t.length>2?"...":".")})(e.text_html),text_html:e.text_html}}).sort((e,t)=>t.id-e.id);return e?r.slice(0,e):r}catch(e){return console.error("Error loading restaurants:",e),[]}}},8482:(e,t,s)=>{"use strict";s.d(t,{h:()=>a});let a=new Set(["#Автово","#Адмиралтейская","#Академическая","#Балтийская","#Бухарестская","#Василеостровская","#Владимирская","#Волковская","#Выборгская","#Горный_институт","#Горьковская","#Гостиный_Двор","#Гражданский_проспект","#Девяткино","#Достоевская","#Елизаровская","#Звёздная","#Звенигородская","#Кировский_завод","#Комендантский_проспект","#Крестовский_остров","#Купчино","#Ладожская","#Ленинский_проспект","#Лесная","#Лиговский_проспект","#Ломоносовская","#Маяковская","#Международная","#Московская","#Московские_Ворота","#Нарвская","#Невский_проспект","#Новочеркасская","#Обводный_канал","#Обухово","#Озерки","#Парк_Победы","#Парнас","#Петроградская","#Пионерская","#Площадь_Александра_Невского","#Площадь_Восстания","#Площадь_Ленина","#Площадь_Мужества","#Политехническая","#Приморская","#Пролетарская","#Проспект_Большевиков","#Проспект_Ветеранов","#Проспект_Просвещения","#Пушкинская","#Рыбацкое","#Садовая","#Сенная_площадь","#Спасская","#Спортивная","#Старая_Деревня","#Технологический_институт","#Удельная","#Улица_Дыбенко","#Фрунзенская","#Чёрная_речка","#Чернышевская","#Чкаловская","#Электросила"])}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=1307)),_N_E=e.O()}]);